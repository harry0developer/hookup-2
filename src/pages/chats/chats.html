<ion-header>
  <ion-navbar color="white"> 
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button> 
    <ion-title>Chats</ion-title>
  </ion-navbar>
  <ion-toolbar >
    <ion-searchbar
      [formControl]="searchControl"
      (ionChange)="onSearchInput()"
    ></ion-searchbar>
  </ion-toolbar>
</ion-header> 

<ion-content>
  <div *ngIf="searching" class="spinner-container">
    <ion-spinner></ion-spinner>
  </div>

  <ion-list *ngIf="!isLoading && !searching" class="user" [@listAnimation]="users.length">
    <ion-card *ngFor="let user of users">
      <ion-item (tap)="viewUserProfile(user)">
        <ion-avatar item-start>
          <!-- <img src="{{user.profilePic}}" onerror="this.onerror=null;this.src='getDefaultProfilePic()';" > -->
        </ion-avatar>
        <h2 class="name">
          {{capitalizeFirstLetter(user?.nickname)}} 
        </h2> 
        <p item-end>
          <i class="fa fa-chevron-right"></i>
        </p>
      </ion-item>
    </ion-card>

    <ion-card *ngIf="users.length < 1">
      <ion-item text-wrap>
        <p class="not-found">You do not have any chats yet</p>      
      </ion-item>
    </ion-card>
  </ion-list>   
</ion-content>
